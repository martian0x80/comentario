<!-- Heading -->
<h1 i18n="heading">Dashboard</h1>

<div [appSpinner]="loading.active" spinnerSize="lg">
    <ng-container *ngIf="totals">
        <!-- Counters -->
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-2 justify-content-center">
            <!-- Users -->
            <app-metric-card *ngIf="totals.countUsersTotal >= 0" [value]="totals.countUsersTotal"
                             label="Users" sublabel="total"
                             i18n-label="metric-label|" i18n-sublabel="metric-sublabel|"></app-metric-card>

            <!-- Domains -->
            <app-metric-card *ngIf="totals.countDomainsOwned as c" [value]="c"
                             label="Domains" sublabel="you own"
                             i18n-label="metric-label|" i18n-sublabel="metric-sublabel|"></app-metric-card>
            <app-metric-card *ngIf="totals.countDomainsModerated as c" [value]="c"
                             label="Domains" sublabel="you moderate"
                             i18n-label="metric-label|" i18n-sublabel="metric-sublabel|"></app-metric-card>
            <app-metric-card [value]="totals.countDomainsCommenter"
                             label="Domains" sublabel="you're commenter on"
                             i18n-label="metric-label|" i18n-sublabel="metric-sublabel|"></app-metric-card>
            <app-metric-card *ngIf="totals.countDomainsReadonly as c" [value]="c"
                             label="Domains" sublabel="you're read-only on"
                             i18n-label="metric-label|" i18n-sublabel="metric-sublabel|"></app-metric-card>

            <!-- Pages -->
            <app-metric-card *ngIf="totals.countPagesModerated as c" [value]="c"
                             label="Pages" sublabel="you moderate"
                             i18n-label="metric-label|" i18n-sublabel="metric-sublabel|"></app-metric-card>

            <!-- Domain users -->
            <app-metric-card *ngIf="totals.countDomainUsers as c" [value]="c"
                             label="Domain users" sublabel="you manage"
                             i18n-label="metric-label|" i18n-sublabel="metric-sublabel|"></app-metric-card>

            <!-- Comments -->
            <app-metric-card *ngIf="totals.countComments as c" [value]="c"
                             label="Comments" sublabel="total"
                             i18n-label="metric-label|" i18n-sublabel="metric-sublabel|"></app-metric-card>

            <!-- Commenters -->
            <app-metric-card *ngIf="totals.countCommenters as c" [value]="c"
                             label="Commenters" sublabel="total"
                             i18n-label="metric-label|" i18n-sublabel="metric-sublabel|"></app-metric-card>
        </div>

        <!-- Stats chart, only if it's a superuser or there are any owned domains -->
        <div *ngIf="principal?.isSuperuser || totals.countDomainsOwned" class="mt-3">
            <h2 i18n="heading">View and comment statistics</h2>
            <app-stats-chart domainId=""></app-stats-chart>
        </div>
    </ng-container>

    <!-- Placeholder when no data -->
    <app-no-data *ngIf="!totals"></app-no-data>
</div>

