<section class="container">
    <!-- Heading -->
    <h1 i18n="heading">Import data</h1>

    <!-- Edit form -->
    <form *ngIf="!isComplete" [formGroup]="form" (ngSubmit)="submit()" (keydown.control.enter)="submit()">
        <!-- Source format -->
        <div class="mb-3 row">
            <label class="col-sm-3 col-form-label colon" i18n>Source format</label>
            <div class="col-sm-9">
                <!-- Commento -->
                <div class="form-check">
                    <input formControlName="source" class="form-check-input" type="radio" id="sourceCommento" value="commento">
                    <label class="form-check-label" for="sourceCommento" i18n>Commento</label>
                </div>
                <!-- Disqus -->
                <div class="form-check">
                    <input formControlName="source" class="form-check-input" type="radio" id="sourceDisqus" value="disqus">
                    <label class="form-check-label" for="sourceDisqus" i18n>Disqus</label>
                </div>
            </div>
        </div>

        <!-- File input -->
        <div class="mb-3 row">
            <label for="fileSelect" class="col-sm-3 col-form-label colon" i18n>Data file</label>
            <div class="col-sm-9">
                <input (change)="onFileSelected($event)"
                       [class.is-valid]="file.touched && file.valid"
                       [class.is-invalid]="file.touched && file.invalid"
                       id="fileSelect" type="file" class="form-control">
                <!-- Invalid feedback -->
                <div class="invalid-feedback">
                    <ng-container i18n>Please select a file.</ng-container>
                </div>
            </div>
        </div>

        <!-- Buttons -->
        <div class="form-footer">
            <a routerLink=".." class="btn btn-link" i18n="action">Cancel</a>
            <button [appSpinner]="importing.active" type="submit" class="btn btn-primary">
                <ng-container i18n="action">Import</ng-container>
            </button>
        </div>
    </form>

    <!-- Import complete -->
    <div *ngIf="isComplete" @fadeInOut-slow class="text-center" id="import-complete">
        <p><fa-icon [icon]="faCheck" size="3x" class="text-success"></fa-icon></p>
        <p class="lead fw-bold" i18n>Import complete</p>
        <p i18n>{{ impCount || 0 | number }} comments have been imported.</p>
        <p><a [routerLink]="Paths.manage.dashboard" class="btn btn-primary" i18n>Dashboard</a></p>
    </div>
</section>
