<section class="container">
    <!-- Heading & subheading -->
    <h1 i18n="heading">Domain details</h1>
    <div *ngIf="domain" class="subheading">{{ domain.displayName || domain.host }}</div>

    <!-- Tabs -->
    <section [appSpinner]="loading.active" spinnerSize="lg">
        <ng-container *ngIf="domain">
            <ul #tabs="ngbNav" [(activeId)]="activeTab" ngbNav class="nav-tabs">
                <!-- Installation tab -->
                <li ngbNavItem="installation">
                    <a ngbNavLink i18n>Installation</a>
                    <ng-template ngbNavContent>
                        <p i18n>Insert the following piece of HTML code into every page you want to load Comentario on:</p>
                        <textarea [value]="snippet" #sn (click)="sn.select()" class="form-control font-monospace mb-4" rows="3" readonly></textarea>
                        <p i18n>Read more on Comentario installation and configuration in the <a [href]="docsSvc.getPageUrl('getting-started/')" target="_blank" rel="noopener">documentation</a>.</p>
                    </ng-template>
                </li>

                <!-- Properties tab -->
                <li ngbNavItem="properties">
                    <a ngbNavLink i18n>Properties</a>
                    <ng-template ngbNavContent>
                        <app-domain-props [domain]="domain"></app-domain-props>
                    </ng-template>
                </li>

                <!-- Moderators tab -->
                <li ngbNavItem="moderators">
                    <a ngbNavLink>
                        <ng-container i18n>Moderators</ng-container>
                        <!-- Badge with the number -->
                        <span *ngIf="domain?.moderators?.length as num" class="ms-2 badge bg-secondary">{{ num }}</span>
                    </a>
                    <ng-template ngbNavContent>
                        <app-domain-moderators [domain]="domain" (updated)="reload()"></app-domain-moderators>
                    </ng-template>
                </li>

                <!-- Statistics tab -->
                <li ngbNavItem="statistics">
                    <a ngbNavLink i18n>Statistics</a>
                    <ng-template ngbNavContent>
                        <app-domain-stats [domain]="domain"></app-domain-stats>
                    </ng-template>
                </li>

                <!-- Import/Export tab -->
                <li ngbNavItem="impex">
                    <a ngbNavLink i18n>Import/Export</a>
                    <ng-template ngbNavContent>
                        <app-domain-impex [domain]="domain"></app-domain-impex>
                    </ng-template>
                </li>

                <!-- Danger zone tab -->
                <li ngbNavItem="danger-zone">
                    <a ngbNavLink class="text-danger" i18n>Danger zone</a>
                    <ng-template ngbNavContent>
                        <app-domain-danger-zone [domain]="domain" (updated)="reload()"></app-domain-danger-zone>
                    </ng-template>
                </li>
            </ul>

            <!-- Tabs outlet -->
            <div [ngbNavOutlet]="tabs" class="mt-2"></div>
        </ng-container>
    </section>
</section>
