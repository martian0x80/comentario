<section class="container">
    <!-- Heading -->
    <h1 i18n>Domain properties</h1>

    <div class="row">
        <!-- Buttons -->
        <div class="col-sm-3 order-sm-last pb-3">
            <!-- Edit settings button -->
            <button [routerLink]="[Paths.manage.domains, _domain?.id, 'edit']" type="button" class="btn btn-secondary w-100">
                <fa-icon [icon]="faEdit" class="me-1"></fa-icon>
                <ng-container i18n>Edit settings</ng-container>
            </button>
        </div>

        <!-- Detail table -->
        <div class="col-sm-9">
            <!-- Installation -->
            <section>
                <h2 i18n>Installation</h2>

                <p i18n>Insert the following piece of HTML code into every page you want to load Comentario on:</p>

                <div class="border d-flex flex-wrap flex-md-nowrap justify-content-center justify-content-md-between align-items-center p-3 mb-3">
                    <!-- Code snippet -->
                    <code class="overflow-hidden m-2"><pre class="mb-0">{{ snippet }}</pre></code>
                    <!-- Copy button -->
                    <button [appCopyText]="snippet" type="button" class="btn btn-secondary" ngbTooltip="">
                        <fa-icon [icon]="faCopy" class="me-1"></fa-icon>
                        <ng-container i18n>Copy</ng-container>
                    </button>
                </div>

                <p i18n>That's all! Comentario will automatically load and render comments for every page based on its URL.</p>

                <p i18n>Read more on Comentario installation and configuration in the <a [href]="installDocsUrl" target="_blank" rel="noopener">documentation</a>.</p>

            </section>

            <dl *ngIf="_domain as d" id="domainDetailTable" class="detail-table">
                <!-- Host -->
                <div>
                    <dt i18n>Host</dt>
                    <dd>{{ d.host }}</dd>
                </div>
                <!-- Name -->
                <div>
                    <dt i18n>Name</dt>
                    <dd>{{ d.name }}</dd>
                </div>
                <!-- State -->
                <div>
                    <dt i18n>Read-only</dt>
                    <dd><app-checkmark [value]="d.isReadonly"></app-checkmark></dd>
                </div>
                <!-- Require moderator approval on comments -->
                <div *ngIf="d.modAnonymous || d.modAuthenticated || d.modLinks || d.modImages">
                    <dt i18n>Require moderator approval on comments</dt>
                    <dd>
                        <ul class="list-unstyled mb-0">
                            <li *ngIf="d.modAnonymous"     i18n>By anonymous users</li>
                            <li *ngIf="d.modAuthenticated" i18n>By authenticated users</li>
                            <li *ngIf="d.modLinks"         i18n>Containing links</li>
                            <li *ngIf="d.modImages"        i18n>Containing images</li>
                        </ul>
                    </dd>
                </div>
                <!-- Moderator notification policy -->
                <div>
                    <dt i18n>Moderator notification policy</dt>
                    <dd>{{ d.modNotifyPolicy }}</dd>
                </div>
                <!-- Comment sorting -->
                <div>
                    <dt i18n>Comment sorting</dt>
                    <dd>{{ d.defaultSort }}</dd>
                </div>
                <!-- Authentication -->
                <div>
                    <dt i18n>Authentication</dt>
                    <dd>
                        <ul class="list-unstyled mb-0">
                            <li *ngIf="d.authAnonymous" i18n>Anonymous comments</li>
                            <li *ngIf="d.authLocal" i18n>Local (password-based)</li>
                            <li *ngIf="d.authSso"><ng-container i18n>Single Sign-On</ng-container>&ngsp;<i i18n>via</i> {{ d.ssoUrl }}</li>
                            <li *ngFor="let idp of _fedIdps">{{ idp.name }}</li>
                        </ul>
                    </dd>
                </div>
                <!-- Created -->
                <div>
                    <dt i18n>Created</dt>
                    <dd>{{ d.createdTime | date:'short' }}</dd>
                </div>
            </dl>
        </div>
    </div>
</section>
