<ng-container *ngIf="domain else noData">
    <!-- Heading -->
    <h1>
        <ng-container i18n="heading">Domain</ng-container>
        <app-domain-badge></app-domain-badge>
    </h1>

    <!-- Toolbar -->
    <div class="toolbar">
        <!-- Back to selector -->
        <a routerLink=".." class="btn btn-secondary">
            <fa-icon [icon]="faChevronLeft" class="me-1"></fa-icon>
            <ng-container i18n>Select another domain</ng-container>
        </a>
    </div>

    <!-- Installation -->
    <section>
        <!-- Heading -->
        <h2 i18n>Installation</h2>

        <p i18n>Insert the following piece of HTML code into every page you want to load Comentario on:</p>
        <div class="border d-flex flex-wrap flex-md-nowrap justify-content-center justify-content-md-between align-items-center p-3 mb-3">
            <!-- Code snippet -->
            <code class="overflow-hidden m-2"><pre class="mb-0">{{ snippet }}</pre></code>
            <!-- Copy button -->
            <button [appCopyText]="snippet" type="button" class="btn btn-secondary" ngbTooltip="">
                <fa-icon [icon]="faCopy" class="me-1"></fa-icon>
                <ng-container i18n>Copy</ng-container>
            </button>
        </div>
        <p i18n>That's all! Comentario will automatically load and render comments for every page based on its URL.</p>
        <p i18n>Read more on Comentario installation and configuration in the <a [href]="installDocsUrl" target="_blank" rel="noopener">documentation</a>.</p>
    </section>

    <!-- Heading -->
    <h2 i18n>Properties</h2>
    <div class="row">
        <!-- Buttons -->
        <div class="col-sm-3 order-sm-last pb-3">
            <!-- Edit settings button -->
            <button [routerLink]="[Paths.manage.domains, domain.id, 'edit']" type="button" class="btn btn-secondary w-100">
                <fa-icon [icon]="faEdit" class="me-1"></fa-icon>
                <ng-container i18n>Edit settings</ng-container>
            </button>
        </div>
        <!-- Detail table -->
        <div class="col-sm-9">

            <dl id="domainDetailTable" class="detail-table">
                <!-- Host -->
                <div>
                    <dt i18n>Host</dt>
                    <dd>{{ domain.host }}</dd>
                </div>
                <!-- Name -->
                <div>
                    <dt i18n>Name</dt>
                    <dd>{{ domain.name }}</dd>
                </div>
                <!-- State -->
                <div>
                    <dt i18n>Read-only</dt>
                    <dd><app-checkmark [value]="domain.isReadonly"></app-checkmark></dd>
                </div>
                <!-- Require moderator approval on comments -->
                <div *ngIf="hasApprovalPolicy">
                    <dt i18n>Require moderator approval on comment, if</dt>
                    <dd>
                        <ul class="ps-3 mb-0">
                            <li *ngIf="domain.modAnonymous"        i18n>Author is anonymous</li>
                            <li *ngIf="domain.modAuthenticated"    i18n>Author is authenticated</li>
                            <li *ngIf="domain.modNumComments as n" i18n>Author has less than {{ n }} approved comments</li>
                            <li *ngIf="domain.modUserAgeDays as n" i18n>Author is registered less than {{ n }} days ago</li>
                            <li *ngIf="domain.modLinks"            i18n>Comment contains link</li>
                            <li *ngIf="domain.modImages"           i18n>Comment contains image</li>
                        </ul>
                    </dd>
                </div>
                <!-- Email moderators -->
                <div>
                    <dt i18n>Email moderators</dt>
                    <dd>{{ domain.modNotifyPolicy | moderatorNotifyPolicy }}</dd>
                </div>
                <!-- Default comment sort -->
                <div>
                    <dt i18n>Default comment sort</dt>
                    <dd>{{ domain.defaultSort | commentSort }}</dd>
                </div>
                <!-- Authentication -->
                <div>
                    <dt i18n>Authentication</dt>
                    <dd>
                        <ul class="ps-3 mb-0">
                            <li *ngIf="domain.authAnonymous" i18n>Anonymous comments</li>
                            <li *ngIf="domain.authLocal" i18n>Local (password-based)</li>
                            <li *ngIf="domain.authSso"><ng-container i18n>Single Sign-On</ng-container>&ngsp;<i i18n>via</i> {{ domain.ssoUrl }}</li>
                            <li *ngFor="let idp of fedIdps">{{ idp.name }}</li>
                        </ul>
                    </dd>
                </div>
                <!-- Created -->
                <div>
                    <dt i18n>Created</dt>
                    <dd>{{ domain.createdTime | date:'short' }}</dd>
                </div>
                <!-- Number of comments -->
                <div>
                    <dt i18n>Number of comments</dt>
                    <dd>{{ domain.countComments | number }}</dd>
                </div>
                <!-- Number of views -->
                <div>
                    <dt i18n>Number of views</dt>
                    <dd>{{ domain.countViews | number }}</dd>
                </div>
            </dl>
        </div>
    </div>
</ng-container>

<!-- Placeholder when no data -->
<ng-template #noData>
    <div class="text-center" i18n>No data available.</div>
</ng-template>
