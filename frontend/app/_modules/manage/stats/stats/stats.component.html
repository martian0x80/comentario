<!-- Daily counts -->
<div class="mt-3" id="dashboard-daily-stats">
    <!-- Subheading -->
    <h2 i18n="heading">Daily statistics</h2>

    <!-- Info text -->
    @if (dailyCountsViews?.length; as cnt) {
        <p class="text-muted stats-chart-info" i18n>Last {{ cnt | number }} days.</p>
    }

    <!-- Daily charts -->
    <div [appSpinner]="loadingDaily.active" spinnerSize="lg">
        @if (dailyCountsViews || dailyCountsComments) {
            <app-daily-stats-chart [totalViews]="totalCountViews"
                                   [totalComments]="totalCountComments"
                                   [countsViews]="dailyCountsViews"
                                   [countsComments]="dailyCountsComments"/>
        } @else {
            <app-no-data/>
        }
    </div>
</div>

<!-- Page view statistics -->
<div class="mt-3" id="dashboard-pageview-stats">
    <!-- Subheading -->
    <h2 i18n="heading">Page view statistics</h2>

    <!-- Page view pie charts, if there are any views -->
    <div [appSpinner]="loadingPageViews.active" spinnerSize="lg">
        @if (totalCountViews) {
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-2">
                <div class="col">
                    <div class="card shadow-none border-0 text-center">
                        <div class="card-title fw-bold" i18n>Countries</div>
                        <div class="card-body">
                            <app-pie-stats-chart [data]="pageViewsStats?.countries"/>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-none border-0 text-center">
                        <div class="card-title fw-bold" i18n>Devices</div>
                        <div class="card-body">
                            <app-pie-stats-chart [data]="pageViewsStats?.devices"/>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-none border-0 text-center">
                        <div class="card-title fw-bold" i18n>Browsers</div>
                        <div class="card-body">
                            <app-pie-stats-chart [data]="pageViewsStats?.browsers"/>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-none border-0 text-center">
                        <div class="card-title fw-bold" i18n>Operating systems</div>
                        <div class="card-body">
                            <app-pie-stats-chart [data]="pageViewsStats?.oses"/>
                        </div>
                    </div>
                </div>
            </div>
        } @else {
            <app-no-data/>
        }
    </div>
</div>

<!-- Top performing pages -->
<div class="mt-3" id="dashboard-top-pages-stats">
    <!-- Subheading -->
    <h2 i18n="heading">Top performing pages</h2>

    <!-- Top pages tables, if there are any views or comments -->
    <div [appSpinner]="loadingTopPages.active" spinnerSize="lg">
        @if (totalCountViews || totalCountComments) {
            <app-top-pages-stats [pagesByViews]="topPagesByViews"
                                 [pagesByComments]="topPagesByComments"
                                 [domainId]="_domainId"/>

        } @else {
            <app-no-data/>
        }
    </div>
</div>
