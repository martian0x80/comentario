@if (items; as items) {
    <ng-container [formGroup]="formGroup!">
        @for (item of items; track item.key) {
            <!-- Info icon template -->
            <ng-template #ii>
                <app-info-icon docLink="{{ docsBasePath }}/{{ item.key | lowercase }}/" class="ms-2"/>
            </ng-template>

            <!-- Add a local var for control name (also use it for switch ID) -->
            @if (ctlName(item.key); as k) {
                <!-- Label with a control -->
                @switch (item.datatype) {
                    <!-- Boolean value -->
                    @case ('boolean') {
                        <div class="form-check form-switch">
                            <input [formControlName]="k" [id]="k" class="form-check-input" type="checkbox">
                            <label [for]="k" class="form-check-label">{{ item.key | dynConfigItemName }}</label>
                            @if (docsBasePath) {<span [ngTemplateOutlet]="ii"></span>}
                        </div>
                    }

                    <!-- Any other (string) value -->
                    @default {
                        <div class="mb-3">
                            <label [for]="k" class="form-label colon">
                                <ng-container>{{ item.key | dynConfigItemName }}</ng-container>
                                @if (docsBasePath) {<span [ngTemplateOutlet]="ii"></span>}
                            </label>
                            <input [formControlName]="k" [id]="k" type="text" class="form-control">
                        </div>
                    }
                }
            }
        }
    </ng-container>
}
